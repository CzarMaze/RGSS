#encoding:utf-8
#==============================================================================
# ■ Lctseng::Scene_CardPrepare
#------------------------------------------------------------------------------
# 　卡片整備畫面
#==============================================================================

module Lctseng
class Scene_CardPrepare < Scene_Base
  #--------------------------------------------------------------------------
  # ● 開始處理
  #--------------------------------------------------------------------------
  def start
    super
    create_spriteset
  end
  #--------------------------------------------------------------------------
  # ● 產生精靈組
  #--------------------------------------------------------------------------
  def create_spriteset
    @spriteset = Spriteset_CardPrepare.new(self)
  end
  #--------------------------------------------------------------------------
  # ● 結束處理
  #--------------------------------------------------------------------------
  def terminate
    super
    dispose_spriteset
  end
  #--------------------------------------------------------------------------
  # ● 釋放精靈組
  #--------------------------------------------------------------------------
  def dispose_spriteset
    @spriteset.dispose
  end
  #--------------------------------------------------------------------------
  # ● 更新 (基礎)
  #--------------------------------------------------------------------------
  def update_basic
    super
    @spriteset.update
  end
  #--------------------------------------------------------------------------
  # ● 回到角色選擇
  #--------------------------------------------------------------------------
  def on_actor_select
    SceneManager.goto(Scene_SelectActor)
  end
  #--------------------------------------------------------------------------
  # ● 前往購買
  #--------------------------------------------------------------------------
  def on_goto_buy
    SceneManager.goto(Scene_CardBuy)
  end
  #--------------------------------------------------------------------------
  # ● 前往戰鬥(選模式)
  #--------------------------------------------------------------------------
  def on_goto_battle
    Scene_SelectActor::rollback_handler.call if Scene_SelectActor::rollback_handler
    SceneManager.goto(Scene_SelectMode)
  end
  #--------------------------------------------------------------------------
  # ● 取得角色
  #--------------------------------------------------------------------------
  def actor
    $game_actors[CardBattle.var_actor_id]
  end
  

end
end