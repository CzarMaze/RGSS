#encoding:utf-8
#==============================================================================
# ■ Lctseng::Scene_SelectMode
#------------------------------------------------------------------------------
# 　選模式畫面
#==============================================================================

module Lctseng
class Scene_SelectMode < Scene_Base
  #--------------------------------------------------------------------------
  # ● 開始處理
  #--------------------------------------------------------------------------
  def start
    super
    create_spriteset
  end
  #--------------------------------------------------------------------------
  # ● 產生精靈組
  #--------------------------------------------------------------------------
  def create_spriteset
    @spriteset = Spriteset_SelectMode.new(method(:command_caller))
  end
  #--------------------------------------------------------------------------
  # ● 結束處理
  #--------------------------------------------------------------------------
  def terminate
    super
    dispose_spriteset
  end
  #--------------------------------------------------------------------------
  # ● 釋放精靈組
  #--------------------------------------------------------------------------
  def dispose_spriteset
    @spriteset.dispose
  end
  #--------------------------------------------------------------------------
  # ● 更新 (基礎)
  #--------------------------------------------------------------------------
  def update_basic
    super
    @spriteset.update
  end
  #--------------------------------------------------------------------------
  # ● 指令呼叫
  #--------------------------------------------------------------------------
  def command_caller(mode)
    puts "模式：#{mode}"
    actor_id = $game_variables[CardBattle::VARIABLE_ACTOR]
    $game_actors[actor_id].gain_mode_card(mode)
    $game_actors[actor_id].general_battle_mode = mode == 0 ? :attack : :defend
    SceneManager.goto(Scene_Map)
  end
  

end
end